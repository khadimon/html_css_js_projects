.scene {
  display: none !important; /* hide all scenes */
}

/* Confetti Animation */
.confetti-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 50;
}

.confetti {
  position: absolute;
  width: 12px;
  height: 12px;
  background: #6bf0ff;
  animation: confettiThrow 2.5s ease-out forwards;
  animation-delay: 3.8s;
}

.confetti:nth-child(1) { left: 10%; top: -20px; background: #6bf0ff; animation-delay: 3.8s; }
.confetti:nth-child(2) { left: 20%; top: -30px; background: #a7ffee; animation-delay: 3.85s; }
.confetti:nth-child(3) { left: 30%; top: -25px; background: #6bf0ff; animation-delay: 3.9s; }
.confetti:nth-child(4) { left: 40%; top: -15px; background: #a7ffee; animation-delay: 3.88s; }
.confetti:nth-child(5) { left: 50%; top: -35px; background: #6bf0ff; animation-delay: 3.95s; }
.confetti:nth-child(6) { left: 60%; top: -20px; background: #a7ffee; animation-delay: 3.92s; }
.confetti:nth-child(7) { left: 70%; top: -28px; background: #6bf0ff; animation-delay: 3.87s; }
.confetti:nth-child(8) { left: 80%; top: -18px; background: #a7ffee; animation-delay: 3.93s; }
.confetti:nth-child(9) { left: 90%; top: -32px; background: #6bf0ff; animation-delay: 3.89s; }
.confetti:nth-child(10) { left: 5%; top: -25px; background: #a7ffee; animation-delay: 3.91s; }
.confetti:nth-child(11) { left: 15%; top: -20px; background: #6bf0ff; animation-delay: 3.86s; }
.confetti:nth-child(12) { left: 25%; top: -30px; background: #a7ffee; animation-delay: 3.94s; }
.confetti:nth-child(13) { left: 35%; top: -22px; background: #6bf0ff; animation-delay: 3.87s; }
.confetti:nth-child(14) { left: 45%; top: -28px; background: #a7ffee; animation-delay: 3.90s; }
.confetti:nth-child(15) { left: 55%; top: -18px; background: #6bf0ff; animation-delay: 3.88s; }
.confetti:nth-child(16) { left: 65%; top: -35px; background: #a7ffee; animation-delay: 3.92s; }
.confetti:nth-child(17) { left: 75%; top: -23px; background: #6bf0ff; animation-delay: 3.89s; }
.confetti:nth-child(18) { left: 85%; top: -29px; background: #a7ffee; animation-delay: 3.91s; }
.confetti:nth-child(19) { left: 95%; top: -20px; background: #6bf0ff; animation-delay: 3.87s; }
.confetti:nth-child(20) { left: 12%; top: -27px; background: #a7ffee; animation-delay: 3.93s; }
.confetti:nth-child(21) { left: 22%; top: -24px; background: #6bf0ff; animation-delay: 3.89s; }
.confetti:nth-child(22) { left: 32%; top: -31px; background: #a7ffee; animation-delay: 3.86s; }
.confetti:nth-child(23) { left: 42%; top: -19px; background: #6bf0ff; animation-delay: 3.92s; }
.confetti:nth-child(24) { left: 52%; top: -26px; background: #a7ffee; animation-delay: 3.88s; }
.confetti:nth-child(25) { left: 62%; top: -21px; background: #6bf0ff; animation-delay: 3.90s; }
.confetti:nth-child(26) { left: 72%; top: -33px; background: #a7ffee; animation-delay: 3.87s; }
.confetti:nth-child(27) { left: 82%; top: -22px; background: #6bf0ff; animation-delay: 3.94s; }
.confetti:nth-child(28) { left: 92%; top: -28px; background: #a7ffee; animation-delay: 3.89s; }
.confetti:nth-child(29) { left: 8%; top: -25px; background: #6bf0ff; animation-delay: 3.91s; }
.confetti:nth-child(30) { left: 18%; top: -30px; background: #a7ffee; animation-delay: 3.88s; }

@keyframes confettiThrow {
  0% {
    opacity: 1;
    transform: translateY(0) translateX(0) rotate(0deg) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(100vh) translateX(var(--tx, 0)) rotate(720deg) scale(0.5);
  }
}

/* Disney-style Birthday Title */
.birthday-title {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  padding: 20px;
  margin-top: 40px;
}

.disney-text {
  font-family: 'Brush Script MT', 'Lucida Handwriting', cursive;
  font-size: 3.5rem;
  font-weight: 900;
  font-style: italic;
  color: #000000;
  margin: 0;
  letter-spacing: 2px;
  transform: skewY(-5deg);
  filter: drop-shadow(0px 6px 12px rgba(0,0,0,0.4));
}

.letter {
  display: inline-block;
  text-shadow: 
    3px 3px 0px #6bf0ff,
    6px 6px 0px rgba(107, 240, 255, 0.5);
  animation: slideInLetter 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
  opacity: 0;
}

.letter:nth-child(1) { animation-delay: 0s; }
.letter:nth-child(2) { animation-delay: 0.1s; }
.letter:nth-child(3) { animation-delay: 0.2s; }
.letter:nth-child(4) { animation-delay: 0.3s; }
.letter:nth-child(5) { animation-delay: 0.4s; }
.letter:nth-child(6) { animation-delay: 0.5s; }
.letter:nth-child(7) { animation-delay: 0.6s; }
.letter:nth-child(8) { animation-delay: 0.7s; }
.letter:nth-child(9) { animation-delay: 0.8s; }
.letter:nth-child(10) { animation-delay: 0.9s; }
.letter:nth-child(11) { animation-delay: 1s; }
.letter:nth-child(12) { animation-delay: 1.1s; }
.letter:nth-child(13) { animation-delay: 1.2s; }
.letter:nth-child(14) { animation-delay: 1.3s; }
.letter:nth-child(15) { animation-delay: 1.4s; }
.letter:nth-child(16) { animation-delay: 1.5s; }
.letter:nth-child(17) { animation-delay: 1.6s; }
.letter:nth-child(18) { animation-delay: 1.7s; }
.letter:nth-child(19) { animation-delay: 1.8s; }
.letter:nth-child(20) { animation-delay: 1.9s; }
.letter:nth-child(21) { animation-delay: 2s; }
.letter:nth-child(22) { animation-delay: 2.1s; }
.letter:nth-child(23) { animation-delay: 2.2s; }

@keyframes slideInLetter {
  0% {
    opacity: 0;
    transform: translateY(-30px) scale(0.8);
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Hide flowers initially until 3s after page load */
.flowers {
  opacity: 0;
  animation: fadeInFlowers 0.8s ease-in forwards 3s;
}

@keyframes fadeInFlowers {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Reserve space for text at top and bottom */
#text-top {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 10vh;
  z-index: 100;
  pointer-events: none;
}

#text-bottom {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 10vh;
  z-index: 100;
  pointer-events: none;
}

.stage {
  position: absolute;
  inset: 0;
  transform-origin: center bottom;
  transition: transform 3s ease;
}

/* Camera zoom per scene */
#scene1 .stage { transform: scale(1); }
#scene2 .stage { transform: scale(0.85); }
#scene3 .stage { transform: scale(0.7); }
#scene4 .stage { transform: scale(0.55); }

.text {
  position: absolute;
  top: 10%;
  width: 100%;
  text-align: center;
  color: #ffdede;
  font-size: 1.5rem;
  z-index: 10;
}

.click {
  position: absolute;
  bottom: 5%;
  width: 100%;
  text-align: center;
  color: #ffb3b3;
  cursor: pointer;
}

.flower-set {
  position: absolute;
  bottom: 0;
  width: 100%;
  pointer-events: none;
}

.flower-set:nth-child(n+10) {
  opacity: 0.6;
  filter: blur(1px);
}

.flower-set:nth-child(n+15) {
  opacity: 0.4;
  filter: blur(2px);
}


/* ===== Flower garden ===== */
:root {
  --h-margin: 5vw; /* horizontal safe margin */
}

#garden {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100vw;
  height: 100vh;
  padding: 0 var(--h-margin);
  box-sizing: border-box;
  pointer-events: none;
  z-index: 1;
}

/* Centered row (five projects side-by-side, equal spacing) */
.center-row {
  position: absolute;
  left: 50%;
  /* transform is conditionally set by JS (centered or offset by half a column) */
  display: grid;
  grid-auto-rows: auto;
  align-items: end;
  width: calc(100% - 2 * var(--h-margin));
  max-width: 1100px;
  pointer-events: none;
  grid-template-columns: repeat(var(--count, 5), 1fr);
  column-gap: var(--center-gap-px, 20px);
  row-gap: 12px;
  opacity: 1;
  transition: opacity 1.2s ease;
  animation: fadeInScale 1.2s ease-out;
}

.center-row.is-hidden {
  opacity: 0;
  pointer-events: none;
}

@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* subtle visual separation for each project to make the grid more visible */
.center-row .flower-wrap {
  transition: transform 900ms cubic-bezier(0.34, 1.56, 0.64, 1),
              opacity 900ms ease-out;
  opacity: 1;
  justify-self: center;
  margin: 6px 10px;
}

.center-row .flower-wrap .flowers {
  filter: drop-shadow(0 -10px 16px rgba(0,0,0,0.4));
  border-radius: 6px;
  transition: filter 300ms ease;
}

.center-row .flower-wrap .flowers:hover {
  filter: drop-shadow(0 -12px 20px rgba(0,0,0,0.5));
}

/* helper when you want to nudge the whole row visually without touching JS */
.center-row.offset {
  /* no default value here; JS will compute the exact transform */
}

/* Scale wrapper for each flower project */
/* keep absolute wrappers for general garden but allow static layout inside rows */
.flower-wrap {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform-origin: bottom center;
}

/* In center-row we use static flow instead of absolute positioning */
.center-row .flower-wrap {
  position: static;
  bottom: auto;
  left: auto;
  transform-origin: bottom center;
  margin: 6px 10px;
}

/* Hide secondary flowers when needed */
.hidden {
  display: none !important;
}

/* Text always on top */
.scene .text,
.scene .click,
.scene .final-text {
  position: relative;
  z-index: 10;
}
